<script type="text/discourse-plugin" version="0.8">
  const h = require("virtual-dom").h; 
  function getRandomBanner() {
    var str = settings.rotate_banner;
    var banners = str.split('|');
    if (banners.length >0) {
      var num = Math.floor( Math.random() * banners.length);
      var img = banners[num];
      return img;
    }
    return settings.banner_image;
  }

  api.createWidget("e4-banner", {
    tagName: "div",

    html() {
      return  h("img.banner-center", {src: getRandomBanner(), style="width:925; height:359"})
    }
  });
</script>

<script type="text/x-handlebars" data-template-name="/connectors/below-site-header/banner">
  {{mount-widget widget="e4-banner"}}
</script>

